---
title: opencv-python滤波操作
tags:

  - opencv

  - python
created: 2019/11/29
---

图像滤波，即在尽量保留图像细节特征的条件下对目标图像的噪声进行抑制，是图像预处理中不可缺少的操作，其处理效果的好坏将直接影响到后续图像处理和分析的有效性和可靠性。常用的方法有均值滤波、中值滤波、高斯滤波和双边滤波。 <!-- more -->
#  1. ：相关基本概念简介（引自百度百科）：
(1).卷积核(又称滤波器，convolution kernel)：就是图像处理时，给定输入图像，在输出图像中每一个像素是输入图像中一个小区域中像素的加权平均，其中权值由一个函数定义，这个函数称为卷积核。
(2).图像噪声：图像噪声是指存在于图像数据中的不必要的或多余的干扰信息。这些噪声在图像上常表现为：引起较强视觉效果的孤立像素点或像素块。一般，噪声信号与要研究的对象不相关它以无用的信息形式出现，扰乱图像的可观测信息。对于数字图像信号，噪声表为或大或小的极值，这些极值通过加减作用于图像像素的真实灰度值上，对图像造成亮、暗点干扰。 
(3).图像滤波：图像滤波，即在尽量保留图像细节特征的条件下对目标图像的噪声进行抑制，是图像预处理中不可缺少的操作，其处理效果的好坏将直接影响到后续图像处理和分析的有效性和可靠性。
(4).低通滤波：通滤波(Low-pass filter) 是一种过滤方式，规则为低频信号能正常通过，而超过设定临界值的高频信号则被阻隔、减弱。
(5).高通滤波：高通滤波(high-pass filter) 是一种过滤方式，规则为高频信号能正常通过，而低于设定临界值的低频信号则被阻隔、减弱。
LPF帮助我们去除噪音，模糊图像；HPF帮助我们找到图像的边缘。

#  2. ：2D卷积 （使用自定义的滤波器对图像进行卷积)
cv2.filter2D(src,ddepth,kernel[,dst[,anchor[,delta[,borderType]]]]) →dst
常用参数分别为前三个：原图像、目标图像的深度、卷积核
代码实现如下：

```python
import cv2
import numpy as np
img=cv2.imread("/   1.jpg")
kernel=np.ones((5,5),np.float32))/25  
#自定义了一个5X5的卷积框，使用与周围像素点求平均值的方法对其进行卷积操作，也可使用其他卷积方法
dst=cv2.filter2D(img,-1,kernel) 
# ddepth常使用值为-1，意味着与原图像的深度相同
cv2.imshow("dst",dst)
cv2.waitKey(0)
cv2.destroyAllWindows()
```

#  3. ：均值滤波（归一化卷积）
cv2.blur(src,ksize[,dst[,anchor[,borderType]]]) →dst
常用参数分别为：原图像、卷积核大小
用归一化的卷积框的平均值来代替中间的像素值,与2D卷积的自定义的卷积方法相似
代码实现如下：

```python
import cv2
import numpy as np
img=cv2.imread("   /1.jpg")
dst=cv2.blur(img,(5,5))  #只用传入卷积核的尺寸元组即可，而不用生成数组
cv2.imshow("dst",dst)
cv2.waitKey(0)
cv2.destroyAllWindows()
```

#  4. ：中值滤波
cv2.medianBlur(src,ksize[,dst]) →dst
常用参数分别为：原图像、卷积核大小（为奇数）
用与卷积框对应像素的中间值来替代中心像素的值，其他的滤波器都是用计算得到的一个新值来取代中心像素的值，而中值滤波是用中心像素周围（也可以使他本身）的值来替代原值。
代码实现如下：

```python
dst=cv2.medianBlur(img,(3,3))
```

#  5. ：高斯滤波
cv2.GaussianBlur(src,ksize,sigmaX[,dst[,sigmaY[,borderType]]]) →dst
常用参数分别为（前三个）：原图像、卷积核尺寸（高和宽必须为奇数形式的元组）、高斯函数沿X、Y方向的标准差，指定X方向标准差后Y方向会和X一样,如果标准差为0，会根据高斯核的大小自动计算标准差。
用来去除高斯噪声，将普通的卷积核换为高斯核，其值是符合高斯分布的，方框中心的值最大，其余方框根据距离中心元素的距离递减，即原来的求平均数现在变成求加权平均数。
代码实现如下：

```python
dst=cv2.GaussianBlur(img,(3,3),0)
```



#  6. ：双边滤波
cv2.bilateralFilter(src,d,sigmaColor,sigmaSpace[,dst[,borderType]]) →dst

常用参数为（前四个）：原图像、滤波时每个像素点周围使用的像素直径数目、空间高斯函数标准差、灰度值相似性高斯函数标准差
该函数能在保持边界清晰的情况下有效的去除噪音。双边滤波在同时使用空间高斯权重和灰度值相似性高斯权重。空间高斯函数确保只有邻近区域的像素对中心点有影响，灰度值相似性高斯函数确保只有与中心像素灰度值相近的才会被用来做模糊运算。由于边界处的灰度值变化比较大因此不会参与运算而被模糊。
代码实现如下：

```python
dst=cv2.bilateralFilter(img,5,75,75)
```